# ポテパンtodo

ポテパンtodoは、やわらかい色彩とガラス質感を取り入れたおしゃれなToDoリストです。ブラウザさえあれば、タスクの追加や完了管理、フィルター切り替えを直感的に行えます。

## リポジトリの取得方法

### Git を使ってクローンする

Git を利用できる場合は、次のコマンドでローカルにクローンします。GitHub でフォークしている場合は、ご自身のリポジトリ URL に読み替えてください。

```bash
git clone https://github.com/<your-account>/potepan-todo.git
cd potepan-todo
```

### ZIP をダウンロードする

Git が使えない環境では、GitHub ページの **Code → Download ZIP** からアーカイブを取得し、任意のフォルダーで展開してください。

## 使い方

1. このリポジトリをダウンロードまたはクローンします。
2. ローカル開発サーバー（`npm run dev`）やデプロイ後の URL にアクセスします。
3. 予定やアイデアを入力し、追加ボタンでリストへ登録します。
4. 完了したタスクはチェックボックスで切り替えたり、削除ボタンで整理できます。
5. フィルターボタンで「すべて / 進行中 / 完了」の表示を切り替えられます。

## 主な特徴

- 洗練されたガラスモーフィズム風のデザイン
- タスクのフィルタリング（すべて / 進行中 / 完了）
- 期日を追加すると、人間に優しい表記で表示
- ローカルストレージを利用したデータの自動保存
- スマートフォンでも使いやすいレスポンシブレイアウト


## セットアップと開発

> Node.js 18 以上を推奨します。

1. 依存関係をインストールします。

   ```bash
   npm install
   ```

2. 開発サーバーを起動します。

   ```bash
   npm run dev
   ```

   ブラウザが自動で開かない場合は、表示されたローカル URL にアクセスしてください。

3. ビルド結果を確認したい場合は、以下のコマンドで本番ビルドとプレビューを行えます。

   ```bash
   npm run build
   npm run preview
   ```

   `npm run preview` はビルド済みの `dist/` ディレクトリを簡易サーバーで配信します。生成された `dist/` 配下のファイルがデプロイ対象の静的アセットです。

## デプロイ

### 静的ホスティング（Netlify / Vercel / S3 など）

1. `npm run build` で本番ビルドを生成します。
2. 生成された `dist/` ディレクトリを、そのままホスティングサービスにアップロードします。

### GitHub Pages

1. リポジトリに `origin` が設定されていることを確認します。
2. （任意）リポジトリ名のサブディレクトリに公開する場合は、ビルド時にベースパスを指定します。

   ```bash
   DEPLOY_BASE=/your-repo-name/ npm run build
   ```

3. `npm run deploy` を実行すると、`gh-pages` ブランチにビルド成果物が配置されます。

以降は、`npm run build` と `npm run deploy` を再実行するだけで最新の状態を公開できます。

`npm run deploy` は内部的に `git worktree` を利用して成果物を専用ブランチへコミットします。必要に応じて以下の環境変数で挙動をカスタマイズできます。

- `DEPLOY_BRANCH`: デプロイ先のブランチ名（既定値: `gh-pages`）
- `DEPLOY_REMOTE`: プッシュ先のリモート名（既定値: `origin`）
- `DEPLOY_MESSAGE`: コミットメッセージ（既定値: タイムスタンプ入り）

## 開発メモ

- スタイルは `styles.css`、挙動は `script.js` にまとめています。
- ビルドは Node.js 製スクリプトで完結しています。`DEPLOY_BASE` 環境変数に値を渡すことで、`scripts/build.mjs` が出力する HTML 内のアセットパスを任意のベースパスに書き換えられます。
- `npm run dev` / `npm run preview` は組み込みのシンプルな静的サーバーを起動します。必要に応じて `PORT` や `HOST` 環境変数で公開アドレスを調整してください。
